(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[131],{7502:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Content",function(){return t(8948)}])},8948:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return _}});var n=t(4051),s=t.n(n),a=t(5893),i=t(9008),u=t.n(i),c=t(1664),l=t.n(c),o=t(7294);function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function f(e,r,t,n,s,a,i){try{var u=e[a](i),c=u.value}catch(l){return void t(l)}u.done?r(c):Promise.resolve(c).then(n,s)}function h(e){return function(){var r=this,t=arguments;return new Promise((function(n,s){var a=e.apply(r,t);function i(e){f(a,n,s,i,u,"next",e)}function u(e){f(a,n,s,i,u,"throw",e)}i(void 0)}))}}function v(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function p(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return d(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=!0;r.default=function(e){var r=e.data,t=r.results,n=t.results_available,i=void 0===n?0:n,c=t.results_start,d=void 0===c?1:c,f=t.results_returned,_=void 0===f?1:f,x=t.shop,j=void 0===x?[]:x,m=p(new Map(r.results.shop.map((function(e){return[e.small_area.code,e]}))).values()),b=(0,o.useState)(j),y=b[0],w=b[1],S=(0,o.useState)({results_available:i,results_returned:_,results_start:d}),g=S[0],k=S[1],O=(0,o.useState)(""),P=O[0],E=O[1],A=(0,o.useState)(""),N=A[0],C=A[1];(0,o.useEffect)((function(){if(!(""===P&&""===N||""===P&&"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"===N)){var e=new URLSearchParams({keyword:P,small_area:N}),r=function(){var r=h(s().mark((function r(){var t,n,a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("/next_hisa/api/search?".concat(e));case 2:return t=r.sent,r.next=5,t.json();case 5:n=r.sent,a=n.users.results,k({results_available:a.results_available,results_returned:a.results_returned,results_start:a.results_start}),w(a.shop);case 9:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r()}}),[P,N]),(0,o.useEffect)((function(){if(1!==g.results_start){var e={start:g.results_start,keyword:P,small_area:N},r=new URLSearchParams(e),t=function(){var e=h(s().mark((function e(){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/next_hisa/api/search/?".concat(r));case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,a=n.users.results,k({results_available:a.results_available,results_returned:a.results_returned,results_start:a.results_start}),1!==a.results_start){e.next=11;break}return w(a.shop),e.abrupt("return");case 11:w((function(e){return p(e).concat(p(a.shop))}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}}),[g.results_start]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u(),{children:[(0,a.jsx)("title",{children:"\u6771\u4eac\u30b0\u30eb\u30e1\u5e97\u691c\u7d22"}),(0,a.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,a.jsx)("link",{rel:"icon",href:"/next_hisa/favicon2.ico"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)("h2",{children:"\u6771\u4eac\u30b0\u30eb\u30e1\u5e97\u691c\u7d22"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r=e.currentTarget,t=void 0===r?{}:r,n=Array.from(null===t||void 0===t?void 0:t.elements),s=n.find((function(e){return"query"===e.name})),a=n.find((function(e){return"small_area"===e.name})),i=s.value||"",u=a.value||"";E(i),C(u)},children:[(0,a.jsx)("input",{type:"search",name:"query",placeholder:"\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044"}),(0,a.jsxs)("select",{name:"small_area",children:[(0,a.jsx)("option",{children:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"},"0"),m.map((function(e){return(0,a.jsx)("option",{value:e.small_area.code,children:e.small_area.name},e.small_area.code)}))]}),(0,a.jsx)("button",{children:"Search"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:g.results_available})," ",(0,a.jsx)("span",{children:"\u4ef6"})]})]})]}),(0,a.jsx)("ul",{children:y.map((function(e,r){return(0,a.jsx)("li",{children:(0,a.jsx)(l(),{href:"/details/".concat(e.id),children:(0,a.jsx)("a",{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{children:(0,a.jsx)("img",{src:e.photo.mobile.s,alt:e.name})})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[" ",e.name]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:e.genre.name}),(0,a.jsx)("span",{children:e.catch})]}),(0,a.jsxs)("p",{children:[" ",e.access]})]})]})]})})})},r)}))}),g.results_returned<=g.results_start?(0,a.jsx)("div",{}):(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:function(){g.results_returned<=g.results_start||k((function(e){return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){v(e,r,t[r])}))}return e}({},e,{results_start:e.results_start+1})}))},children:"\u3082\u3063\u3068\u8aad\u3080"})}),(0,a.jsxs)("div",{children:["Powered by"," ",(0,a.jsx)("a",{href:"http://webservice.recruit.co.jp/",children:"\u30db\u30c3\u30c8\u30da\u30c3\u30d1\u30fc Web\u30b5\u30fc\u30d3\u30b9"})]})]})]})}}},function(e){e.O(0,[774,888,179],(function(){return r=7502,e(e.s=r);var r}));var r=e.O();_N_E=r}]);